"use client";

import { useState, useEffect } from "react";
import Link from "next/link";
import { usePathname } from "next/navigation";
import Image from "next/image";
import { Menu, X } from "lucide-react";
import CTAbuttonNav from "./CTAbuttonNav";

export default function Navbar() {
  const [open, setOpen] = useState(false);
  const [mounted, setMounted] = useState(false);
  const [isVisible, setIsVisible] = useState(false);
  const [hasScrolled, setHasScrolled] = useState(false);
  const pathname = usePathname();

  const isHomePage = pathname === "/old-home";

  const navItems = [
    { name: "Home", href: "/" },
    { name: "About", href: "/about" },
    // { name: "Scootrr", href: "/scootrr" },
    // { name: "Our Work", href: "/#" },
    { name: "Blogs", href: "/blogs" },
  ];

  useEffect(() => {
    setMounted(true);

    // Only run scroll logic for homepage
    if (isHomePage) {
      const handleScroll = () => {
        const secondSection = document.querySelector(".second-sec");

        if (secondSection) {
          const rect = secondSection.getBoundingClientRect();
          const isInView =
            rect.top <= window.innerHeight * 0.8 && rect.bottom >= 0;

          if (isInView && !hasScrolled) {
            setIsVisible(true);
            setHasScrolled(true);
          }

          // Optional: Hide navbar when scrolling back up before second section
          if (rect.top > window.innerHeight && hasScrolled) {
            setIsVisible(false);
            setHasScrolled(false);
          }
        }
      };

      // Check on initial load
      handleScroll();

      window.addEventListener("scroll", handleScroll, { passive: true });

      return () => {
        window.removeEventListener("scroll", handleScroll);
      };
    } else {
      // For non-home pages, navbar is always visible
      setIsVisible(true);
    }
  }, [hasScrolled, isHomePage]);

  // Reset when route changes
  useEffect(() => {
    if (isHomePage) {
      setIsVisible(false);
      setHasScrolled(false);

      // Small delay to ensure DOM is ready
      setTimeout(() => {
        const secondSection = document.querySelector(".second-sec");
        if (secondSection) {
          const rect = secondSection.getBoundingClientRect();
          if (rect.top <= window.innerHeight && rect.bottom >= 0) {
            setIsVisible(true);
            setHasScrolled(true);
          }
        }
      }, 100);
    } else {
      // For non-home pages, navbar is always visible
      setIsVisible(true);
    }
  }, [pathname]);

  if (!mounted) {
    return null;
  }

  return (
    <>
      {/* Add CSS animation definitions inline if not in global CSS */}
      <style jsx global>{`
        @keyframes slideDown {
          from {
            transform: translateY(-100%);
            opacity: 0;
          }
          to {
            transform: translateY(0);
            opacity: 1;
          }
        }

        @keyframes fadeInUp {
          from {
            opacity: 0;
            transform: translateY(10px);
          }
          to {
            opacity: 1;
            transform: translateY(0);
          }
        }

        @keyframes scaleIn {
          from {
            opacity: 0;
            transform: scale(0.95);
          }
          to {
            opacity: 1;
            transform: scale(1);
          }
        }

        .animate-slideDown {
          animation: slideDown 0.7s ease-out forwards;
        }

        .animate-fadeInUp {
          animation: fadeInUp 0.5s ease-out forwards;
        }

        .animate-scaleIn {
          animation: scaleIn 0.5s ease-out forwards;
        }

        .animate-slideDownMobile {
          animation: slideDown 0.3s ease-out forwards;
        }

        .animate-fadeInLeft {
          animation: fadeInUp 0.5s ease-out 0.2s forwards;
          opacity: 0;
        }
      `}</style>

      <div
        className={`fixed top-[26px] left-0 z-50 flex w-full justify-center px-4 py-2 ${
          isHomePage
            ? isVisible
              ? "animate-slideDown opacity-100"
              : "pointer-events-none -translate-y-full opacity-0"
            : "opacity-100" // Always visible on non-home pages
        } transition-opacity duration-300`}
      >
        <nav className="relative flex h-[75px] w-full max-w-[700px] items-center justify-between rounded-[15px] border border-white/10 bg-[#0b0f0f]/40 backdrop-blur-2xl px-[20px] backdrop-blur-[34px]  lg:px-[30px]">
          {/* Logo */}
          <div className="flex items-center">
            <Link href="/" className=" flex-shrink-0 pb-[12px]">
              {/* <Image
                src="/img/white-logo.png"
                alt="near HUMAN"
                width={170}
                height={19}
                className="h-[30px] w-[170px] object-contain"
                priority
              /> */}
                  <svg className="w-[120px] sm:w-[130px] md:w-[140px] lg:w-[180px] h-[30px]"  viewBox="0 0 180 30" fill="none" xmlns="http://www.w3.org/2000/svg">
                      <path d="M132.88 11.1763C130.309 11.1763 128.462 12.1133 127.236 14.0415L126.967 14.4659L126.687 14.046C125.407 12.1133 123.555 11.1763 121.042 11.1763C118.9 11.1763 117.114 11.8897 115.734 13.3054C114.355 14.7211 113.65 16.6763 113.65 19.1261V29.2863H117.362V19.1261C117.362 17.8075 117.721 16.7486 118.43 15.9764C118.794 15.6054 119.228 15.3103 119.707 15.1083C120.185 14.9063 120.7 14.8014 121.219 14.7997C121.739 14.7981 122.254 14.8996 122.734 15.0985C123.214 15.2974 123.65 15.5897 124.016 15.9584C124.714 16.7192 125.068 17.7872 125.068 19.1193V29.2796H128.798V19.1193C128.798 17.803 129.159 16.7418 129.866 15.9696C130.23 15.5987 130.665 15.3038 131.144 15.1019C131.623 14.9 132.137 14.7952 132.657 14.7935C133.177 14.7919 133.692 14.8934 134.173 15.0921C134.653 15.2909 135.09 15.583 135.456 15.9516C136.154 16.7125 136.508 17.7804 136.508 19.1125V29.2728H140.236V19.1125C140.236 16.6628 139.541 14.703 138.173 13.2896C136.804 11.8762 135.018 11.1763 132.88 11.1763Z" fill="white"/>
                      <path d="M159.252 14.7572C159.209 14.6937 159.163 14.6326 159.114 14.5743C158.316 13.5091 157.278 12.6473 156.084 12.0588C154.89 11.4703 153.574 11.1718 152.243 11.1876C152.144 11.1876 152.038 11.1876 151.939 11.1876H151.896C151.871 11.1854 151.846 11.1854 151.821 11.1876C149.76 11.1876 147.956 11.7001 146.457 12.7026C145.991 13.0136 145.556 13.3673 145.156 13.7592C143.417 15.4662 142.535 17.6563 142.535 20.264V20.5101C142.535 22.5151 143.086 24.2694 144.174 25.7212C144.224 25.7912 144.271 25.8567 144.321 25.9177C144.537 26.2072 144.771 26.4825 145.023 26.7418C145.817 27.5741 146.775 28.232 147.837 28.6736C148.899 29.1152 150.041 29.3308 151.191 29.3067C151.291 29.3067 151.392 29.3067 151.489 29.3067H151.512H151.532H151.611C153.661 29.3067 155.468 28.7987 156.971 27.7962L157.482 27.4552V29.3067H160.895V19.966C160.935 18.0963 160.357 16.2657 159.252 14.7572ZM157.082 20.4966C157.058 21.8524 156.511 23.1466 155.556 24.1091C154.853 24.8358 153.959 25.3491 152.978 25.5901C151.996 25.831 150.966 25.7897 150.007 25.4709C149.048 25.1521 148.198 24.5688 147.556 23.7882C146.914 23.0076 146.505 22.0615 146.378 21.0588C146.359 20.8849 146.344 20.7021 146.337 20.4989C146.337 20.4063 146.337 20.3092 146.337 20.2144C146.337 20.1195 146.337 20.0405 146.337 19.9525C146.364 18.6021 146.909 17.3138 147.859 16.3535C148.545 15.6423 149.414 15.1346 150.37 14.8863C151.326 14.6381 152.333 14.659 153.278 14.9469C154.223 15.2347 155.071 15.7782 155.726 16.5173C156.382 17.2564 156.821 18.1624 156.994 19.1351C157.017 19.2292 157.031 19.3252 157.037 19.4219C157.059 19.5822 157.073 19.7651 157.082 19.966C157.082 20.0405 157.082 20.1263 157.082 20.2144C157.082 20.3024 157.086 20.404 157.082 20.4966Z" fill="white"/>
                      <path d="M55.9175 14.7685C55.8746 14.7053 55.8294 14.6443 55.7797 14.5833C55.5622 14.2929 55.3269 14.0162 55.0753 13.7547C53.4316 12.0523 51.3567 11.1898 48.9069 11.1898C48.8053 11.1898 48.7037 11.1898 48.6044 11.1898H48.5818H48.5615H48.4847C46.4255 11.1898 44.6215 11.6978 43.1246 12.7048C42.6572 13.0131 42.2215 13.3671 41.8241 13.7615C40.0833 15.4662 39.1982 17.654 39.1982 20.2663V20.5101C39.1571 22.3812 39.734 24.2135 40.8397 25.7235C40.8893 25.7912 40.939 25.8544 40.9887 25.9199C41.2051 26.2064 41.4381 26.4801 41.6864 26.7395C42.48 27.5721 43.4384 28.2304 44.5003 28.6723C45.5623 29.1143 46.7047 29.3303 47.8548 29.3067H48.2747C50.3293 29.3067 52.1333 28.7964 53.6371 27.7939L54.1451 27.4575V29.3067H57.5589V19.9773C57.5544 17.9723 57.0035 16.218 55.9175 14.7685ZM53.75 20.4921C53.7277 21.8523 53.1809 23.1514 52.2237 24.1182C51.5208 24.8442 50.6272 25.3569 49.6457 25.5974C48.6642 25.8378 47.6347 25.7961 46.6759 25.4771C45.717 25.1581 44.8678 24.5748 44.2259 23.7943C43.5841 23.0139 43.1757 22.068 43.0478 21.0656C43.0253 20.8917 43.0117 20.7066 43.0049 20.5034C43.0049 20.4018 43.0049 20.3115 43.0049 20.2234C43.0049 20.1353 43.0049 20.045 43.0049 19.957C43.0187 19.2662 43.1686 18.5849 43.446 17.9521C43.7235 17.3194 44.123 16.7475 44.6217 16.2694C45.1204 15.7912 45.7086 15.4161 46.3524 15.1655C46.9963 14.915 47.6833 14.7938 48.3741 14.8091C49.9365 14.8091 51.237 15.3307 52.244 16.3625C52.9923 17.1203 53.4876 18.0913 53.6619 19.1419C53.6846 19.236 53.699 19.332 53.7048 19.4286C53.7287 19.6091 53.7431 19.7908 53.7477 19.9728C53.7477 20.045 53.7477 20.1331 53.7477 20.2234C53.7477 20.3137 53.7545 20.4018 53.75 20.4921Z" fill="white"/>
                      <path d="M62.201 13.407C60.6386 14.8814 59.8483 17.2092 59.8483 20.3273V29.2976H63.576V20.3205C63.576 18.6994 64.0682 17.365 65.0391 16.3557C66.0099 15.3465 67.2969 14.8362 68.8526 14.8362H70.5595V11.183H68.8638C66.0054 11.183 63.7679 11.9304 62.201 13.407Z" fill="white"/>
                      <path d="M92.7788 18.8597C92.7788 18.7242 92.7788 18.591 92.7608 18.4578C92.7427 18.3246 92.7405 18.1936 92.7269 18.0649C92.556 16.3032 91.7645 14.6596 90.4939 13.4273C88.9699 11.9326 87.0033 11.1695 84.6552 11.1695C84.022 11.1654 83.3901 11.2275 82.7699 11.3546C81.9254 11.524 81.1165 11.8379 80.3788 12.2826L79.8821 12.5852L79.9115 1.43599H76.1815V29.2909H79.9115V19.3564C79.9072 18.8697 79.9711 18.3849 80.1011 17.9159C80.1054 17.8866 80.113 17.8578 80.1237 17.8301C80.3299 17.1241 80.7194 16.4853 81.2526 15.9787C82.1652 15.1315 83.3744 14.6774 84.619 14.7143C85.9444 14.7143 87.0304 15.1365 87.8364 15.9719C88.6425 16.8073 89.0512 17.9407 89.0512 19.3587V29.2931H92.7969V19.2096C92.7834 19.0922 92.7834 18.9771 92.7788 18.8597Z" fill="white"/>
                      <path d="M107.748 21.1265C107.748 22.5896 107.319 23.7501 106.477 24.572C105.635 25.3938 104.531 25.8048 103.208 25.8048C101.885 25.8048 100.783 25.3871 99.9406 24.572C99.0985 23.7569 98.6672 22.5941 98.6672 21.1265V11.1921H95.0773V21.2236C95.0773 23.7072 95.8382 25.7077 97.3351 27.1369C98.832 28.5661 100.812 29.2863 103.205 29.2863C105.599 29.2863 107.599 28.5638 109.094 27.1369C110.589 25.7099 111.334 23.723 111.334 21.2236V11.183H107.748V21.1265Z" fill="white"/>
                      <path d="M8.12819 11.1763C5.71457 11.1763 3.73445 11.901 2.24203 13.3212C0.7496 14.7414 0 16.7418 0 19.239V29.2999H3.58995V19.3383C3.58995 17.873 4.01668 16.7125 4.85885 15.8974C5.70103 15.0823 6.79833 14.6759 8.12819 14.6759C9.45806 14.6759 10.5554 15.0891 11.3975 15.9042C12.2397 16.7192 12.6664 17.8798 12.6664 19.3451V29.2999H16.2564V19.239C16.2564 16.7396 15.4955 14.7504 13.9986 13.3212C12.5016 11.892 10.5192 11.1763 8.12819 11.1763Z" fill="white"/>
                      <path d="M22.9102 21.7884V21.7745C22.9122 21.7813 22.9122 21.7885 22.9102 21.7953V21.7884Z" fill="white"/>
                      <path d="M31.4132 18.4623H24.8362V22.0071H31.4132C31.9838 22.0078 32.5511 21.921 33.0953 21.7497C33.9323 21.4845 34.6933 21.022 35.3142 20.4012C35.935 19.7803 36.3975 19.0193 36.6627 18.1823C36.8212 17.6705 36.9019 17.1377 36.902 16.6018C36.8925 15.1555 36.3089 13.7721 35.2796 12.756C34.2503 11.7398 32.8596 11.174 31.4132 11.183H27.7239H27.4123H27.3198L27.0804 11.1988C27.0229 11.1977 26.9655 11.2022 26.9088 11.2124C26.8072 11.2124 26.7056 11.2305 26.604 11.244C26.604 11.244 26.5928 11.244 26.5882 11.244L26.2338 11.2937C26.1141 11.3095 25.9944 11.3321 25.8748 11.3569C25.7551 11.3817 25.649 11.4088 25.5203 11.4382C25.3916 11.4675 25.2945 11.4946 25.1726 11.5307C25.0507 11.5669 24.9468 11.5962 24.8271 11.6346C24.7075 11.673 24.6013 11.7114 24.4907 11.752C24.2596 11.8345 24.0334 11.9302 23.8134 12.0388C23.7915 12.0467 23.7703 12.0565 23.7501 12.0681C23.7292 12.0773 23.7088 12.0879 23.6892 12.0997L23.5876 12.1494C23.5509 12.1622 23.516 12.1796 23.4837 12.2013C23.3911 12.2487 23.2963 12.2984 23.206 12.3503C23.1157 12.4023 23.0005 12.4678 22.9012 12.5287C22.7003 12.6484 22.5038 12.7793 22.3142 12.9193C22.2487 12.9645 22.1855 13.0119 22.12 13.0638C22.0686 13.0982 22.0196 13.1359 21.9732 13.1767L21.8174 13.3009L21.5736 13.5109L21.5533 13.5312C21.4472 13.626 21.3433 13.7254 21.2417 13.8224C21.1401 13.9195 21.0159 14.0482 20.9279 14.1498C20.8398 14.2514 20.7698 14.3214 20.7021 14.4117C20.6592 14.4614 20.614 14.5156 20.5734 14.5698C20.5327 14.624 20.4379 14.7369 20.3724 14.8227C20.307 14.9085 20.2799 14.9468 20.237 15.0123C20.1466 15.1342 20.0608 15.2607 19.9796 15.3871L19.9231 15.4774C19.8802 15.5429 19.8373 15.6129 19.7989 15.6829C19.7716 15.7251 19.7467 15.7688 19.7244 15.8139C19.6906 15.8726 19.659 15.929 19.6296 15.9855C19.6002 16.0419 19.5415 16.148 19.5009 16.2338C19.3658 16.5018 19.2452 16.7769 19.1396 17.0579C19.1167 17.1116 19.0971 17.1667 19.0809 17.2227C19.0493 17.3018 19.02 17.3853 18.9951 17.4688C18.9767 17.5167 18.9616 17.5657 18.95 17.6156C18.9229 17.7014 18.8981 17.7872 18.8755 17.8753C18.8258 18.0514 18.7807 18.2275 18.7468 18.4058C18.7174 18.5503 18.6881 18.6994 18.6655 18.8574C18.6655 18.8574 18.6655 18.8732 18.6655 18.88C18.6429 19.0245 18.6226 19.169 18.6091 19.318C18.5955 19.467 18.5797 19.6228 18.5752 19.7696C18.5707 19.9163 18.5616 20.0812 18.5616 20.2369C18.5616 20.3927 18.5616 20.5485 18.5752 20.7021C18.5887 20.8556 18.5933 21.0091 18.6091 21.1536C18.6249 21.2981 18.6429 21.4471 18.6655 21.5916C18.6655 21.5916 18.6655 21.6052 18.6655 21.6142C18.6881 21.761 18.7174 21.9077 18.7468 22.0545C18.7761 22.2013 18.8077 22.3345 18.8461 22.4699C18.8487 22.4916 18.854 22.5128 18.8619 22.5332C18.8865 22.64 18.9166 22.7455 18.9523 22.8493C18.9627 22.8955 18.9771 22.9409 18.9951 22.9847C19.0268 23.0841 19.0584 23.1857 19.0968 23.285C19.1509 23.4431 19.2164 23.5989 19.2819 23.7547C19.3474 23.9104 19.3993 24.0233 19.4648 24.152C19.5303 24.2807 19.5867 24.4004 19.659 24.5223C19.6654 24.5397 19.6737 24.5564 19.6838 24.572C19.738 24.6736 19.7989 24.7774 19.8599 24.8745C19.8701 24.8966 19.8822 24.9178 19.896 24.9378C19.9547 25.0348 20.0157 25.1252 20.0744 25.2155L20.1579 25.3351C20.2324 25.4413 20.3047 25.5429 20.3837 25.6445C20.4627 25.7461 20.5463 25.8567 20.6343 25.9628L20.6659 26.0035C20.7563 26.1096 20.8511 26.2134 20.9437 26.315C21.0362 26.4166 21.1423 26.5408 21.2462 26.6311C21.3501 26.7214 21.4562 26.8343 21.5646 26.9292C21.6729 27.024 21.7903 27.1166 21.8874 27.2091L21.9078 27.2249C22.0161 27.3107 22.1335 27.4011 22.2464 27.4823C22.6086 27.758 22.9913 28.0055 23.3911 28.2229C23.5063 28.2861 23.6169 28.3471 23.7479 28.4035C23.8788 28.46 24.0143 28.5277 24.1543 28.5842C24.2943 28.6406 24.3801 28.6767 24.4997 28.7219C24.5472 28.7377 24.5923 28.7557 24.6397 28.7693C24.73 28.8032 24.8181 28.8325 24.9084 28.8619L25.0958 28.9183L25.4164 29.0086H25.439C25.5812 29.047 25.7303 29.0809 25.8748 29.1102C26.0238 29.1396 26.1751 29.1644 26.3263 29.1915C26.4392 29.2073 26.5521 29.2231 26.6673 29.2344C26.8389 29.2547 27.0127 29.266 27.1866 29.2796C27.3604 29.2931 27.5388 29.2954 27.7149 29.2954H36.893V25.7393H27.7239C26.2538 25.7489 24.84 25.1746 23.793 24.1424C22.7461 23.1103 22.1516 21.7048 22.1403 20.2347C22.1398 19.5088 22.2843 18.7902 22.5654 18.121C22.8465 17.4517 23.2585 16.8454 23.7772 16.3377C23.854 16.2609 23.9353 16.1864 24.003 16.1119C24.015 16.0967 24.0295 16.0838 24.0459 16.0735C24.1272 16.0058 24.2062 15.9403 24.2898 15.8748C24.3733 15.8093 24.4772 15.7348 24.5743 15.6694C25.0693 15.3374 25.6154 15.0888 26.1909 14.9333C26.2516 14.9133 26.3134 14.8967 26.376 14.8836C26.4986 14.8504 26.623 14.824 26.7485 14.8046C26.9398 14.7709 27.1328 14.7475 27.3265 14.7346C27.4552 14.7233 27.5907 14.7188 27.7217 14.7188H31.411C31.6585 14.717 31.9041 14.764 32.1335 14.8571C32.3629 14.9502 32.5717 15.0876 32.748 15.2614C32.9244 15.4352 33.0647 15.642 33.1611 15.8701C33.2575 16.0982 33.308 16.343 33.3098 16.5906C33.3104 17.0753 33.1188 17.5406 32.777 17.8843C32.7973 17.9227 32.8108 17.9633 32.8266 18.0017C32.8108 17.9633 32.7905 17.9249 32.7747 17.8865C32.5983 18.0694 32.3868 18.2147 32.1528 18.3136C31.9188 18.4125 31.6673 18.4631 31.4132 18.4623Z" fill="white"/>
                      <path d="M179.999 19.5099V27.4236C180.008 27.6742 179.966 27.9239 179.876 28.1579C179.786 28.3919 179.65 28.6054 179.476 28.7857C179.302 28.966 179.093 29.1094 178.862 29.2074C178.632 29.3053 178.383 29.3558 178.133 29.3558C177.882 29.3558 177.634 29.3053 177.403 29.2074C177.172 29.1094 176.964 28.966 176.79 28.7857C176.616 28.6054 176.479 28.3919 176.39 28.1579C176.3 27.9239 176.258 27.6742 176.267 27.4236V19.616C176.267 18.1056 175.829 16.9067 174.962 16.0667C174.095 15.2268 172.95 14.8001 171.595 14.8001C170.241 14.8001 169.096 15.2246 168.229 16.0667C167.362 16.9089 166.917 18.0988 166.917 19.616V27.4259C166.926 27.6761 166.884 27.9255 166.794 28.1593C166.704 28.393 166.569 28.6063 166.395 28.7864C166.221 28.9665 166.012 29.1097 165.782 29.2075C165.551 29.3053 165.304 29.3557 165.053 29.3557C164.803 29.3557 164.555 29.3053 164.324 29.2075C164.094 29.1097 163.886 28.9665 163.712 28.7864C163.538 28.6063 163.402 28.393 163.312 28.1593C163.222 27.9255 163.181 27.6761 163.189 27.4259V19.5099C163.189 16.927 163.968 14.8723 165.508 13.398C167.048 11.9236 169.1 11.1718 171.604 11.1718C174.108 11.1718 176.12 11.9236 177.68 13.398C179.24 14.8723 179.999 16.9337 179.999 19.5099Z" fill="white"/>
                      <path d="M171.595 3.8147e-06C170.67 3.8147e-06 169.765 0.27451 168.995 0.788808C168.225 1.30311 167.625 2.0341 167.271 2.88934C166.917 3.74459 166.824 4.68568 167.005 5.59361C167.185 6.50153 167.631 7.33552 168.286 7.99009C168.94 8.64467 169.774 9.09044 170.682 9.27104C171.59 9.45164 172.531 9.35895 173.386 9.00469C174.242 8.65044 174.973 8.05053 175.487 7.28083C176.001 6.51113 176.276 5.6062 176.276 4.68049C176.275 3.43951 175.781 2.24971 174.904 1.37221C174.026 0.494704 172.836 0.00119936 171.595 3.8147e-06ZM171.595 6.75092C171.186 6.75092 170.785 6.62949 170.445 6.40199C170.104 6.17449 169.839 5.85113 169.682 5.47281C169.526 5.09449 169.485 4.67819 169.565 4.27657C169.644 3.87494 169.842 3.50603 170.131 3.21647C170.421 2.92692 170.79 2.72973 171.191 2.64984C171.593 2.56995 172.009 2.61095 172.388 2.76766C172.766 2.92437 173.089 3.18974 173.317 3.53022C173.544 3.8707 173.666 4.271 173.666 4.68049C173.665 5.22942 173.447 5.75569 173.059 6.14385C172.67 6.532 172.144 6.75032 171.595 6.75092Z" fill="white"/>
                  </svg>

            </Link>
          </div>

          {/* Desktop Navigation */}
          <div className="hidden items-center gap-5 lg:gap-10 md:flex">
  {navItems.map((item, index) => (
    <Link
      key={item.name}
      href={item.href}
      className={`text-[15px] leading-none font-medium tracking-normal transition-colors duration-300 ${
        pathname === item.href
          ? "text-[#00B0B2]"
          : "text-white"
      } ${
        isHomePage
          ? isVisible
            ? "animate-fadeInUp"
            : "opacity-0"
          : "opacity-100"
      }`}
      style={{
        fontFamily: "var(--font-geist-sans), sans-serif",
        animationDelay: `${index * 0.1}s`,
      }}
    >
      {item.name}
    </Link>
  ))}
</div>

          {/* Get In Touch Button */}
          <div className="md:block hidden basis-[120px]">
            <CTAbuttonNav
                href="/contact"
                text="Get In Touch"                  
              />
          </div>

          {/* Mobile Menu Toggle */}
          <button
            onClick={() => setOpen(!open)}
            className="p-2 text-white md:hidden"
            aria-label="Toggle menu"
          >
            {open ? <X size={26} /> : <Menu size={26} />}
          </button>

          {/* Mobile Navigation Dropdown */}
          {open && (
            <div className="animate-slideDownMobile absolute top-full left-0 mt-4 flex w-full flex-col gap-6 rounded-2xl border border-white/10 bg-[#0b0f0f]/95 p-6 backdrop-blur-xl md:hidden">
              {navItems.map((item) => (
                <Link
                  key={item.name}
                  href={item.href}
                  onClick={() => setOpen(false)}
                  className={`text-xl font-bold ${
                    pathname === item.href ? "text-white" : "text-white/70"
                  }`}
                >
                  {item.name}
                </Link>
              ))}

              <Link
                href="/contact"
                onClick={() => setOpen(false)}
                className="flex h-[48px] w-full items-center justify-center rounded-[7px] bg-[#00B0B2] text-[15px] font-medium text-white">
                Get In Touch
              </Link>
            </div>
          )}
        </nav>
      </div>
    </>
  );
}
